workflows:
  ios:
    name: Expo iOS Build
    environment:
      vars:
        EXPO_TOKEN: $EXPO_TOKEN # Add your Expo token in Codemagic environment variables
      xcode: latest
      node: latest
    scripts:
      - name: Install dependencies
        script: yarn install
      - name: Log in to Expo
        script: npx expo login -u $EXPO_USERNAME -p $EXPO_PASSWORD
      - name: Build Expo app for iOS
        script: npx expo build:ios --non-interactive --release-channel default
    artifacts:
      - build/ios/*.ipa
    publishing:
      scripts:
        - name: Notify build status
          script: echo "iOS build completed successfully."
